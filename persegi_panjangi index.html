<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hitung Persegi Panjang</title>
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#7c3aed;--glass:rgba(255,255,255,0.04);--muted:rgba(255,255,255,0.7)}
    *{box-sizing:border-box}
    body{margin:0;min-height:100vh;background:linear-gradient(180deg,#071029 0%, #07192f 60%);font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;color:#e6eef8;display:flex;align-items:center;justify-content:center;padding:32px}
    .container{width:100%;max-width:920px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:16px;padding:28px;box-shadow:0 10px 30px rgba(2,6,23,0.7);display:grid;grid-template-columns:1fr 420px;gap:20px}
    header{grid-column:1/-1;display:flex;align-items:center;gap:16px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#0ea5a4);display:flex;align-items:center;justify-content:center;font-weight:700;color:white;font-size:18px}
    h1{font-size:20px;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.02)}
    .form-row{display:flex;gap:12px;margin-bottom:12px}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    input[type=number]{width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:var(--glass);color:inherit;font-size:15px}
    .actions{display:flex;gap:10px;margin-top:8px}
    button{cursor:pointer;padding:10px 14px;border-radius:10px;border:0;font-weight:600}
    .btn-primary{background:linear-gradient(90deg,var(--accent),#06b6d4);color:#021025}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    .result{display:flex;flex-direction:column;gap:10px}
    .result .value{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px;border-radius:10px;font-weight:700;font-size:18px}
    .small{font-size:13px;color:var(--muted)}

    .preview{display:flex;align-items:center;justify-content:center;height:100%;padding:12px}
    .rect-wrap{width:100%;max-width:360px}
    .canvas-rect{width:100%;height:220px;background:linear-gradient(90deg, rgba(124,58,237,0.12), rgba(6,182,212,0.08));border-radius:10px;border:1px dashed rgba(255,255,255,0.06);display:flex;align-items:center;justify-content:center;position:relative}
    .dim-label{position:absolute;background:rgba(0,0,0,0.35);padding:6px 8px;border-radius:8px;font-size:13px}
    .label-top{top:8px;left:50%;transform:translateX(-50%)}
    .label-side{right:8px;top:50%;transform:translateY(-50%)}

    footer{grid-column:1/-1;margin-top:6px;color:var(--muted);font-size:13px;display:flex;justify-content:space-between;align-items:center}

    @media (max-width:880px){.container{grid-template-columns:1fr;}.preview{order:2}.card{order:1}}
  </style>
</head>
<body>
  <main class="container" role="main">
    <header>
      <div class="logo">HP</div>
      <div>
        <h1>Hitung Luas & Keliling Persegi Panjang</h1>
        <p class="lead">Masukkan panjang dan lebar lalu tekan <strong>Hitung</strong>. Hasil akan tampil beserta visualisasi sederhana.</p>
      </div>
    </header>

    <section class="card" aria-labelledby="form-title">
      <h2 id="form-title" style="margin-top:0;margin-bottom:12px">Input</h2>

      <div>
        <div class="form-row">
          <div style="flex:1">
            <label for="panjang">Panjang (cm)</label>
            <input id="panjang" type="number" step="any" placeholder="Masukkan panjang, mis. 12.5" aria-label="Panjang" />
          </div>
          <div style="flex:1">
            <label for="lebar">Lebar (cm)</label>
            <input id="lebar" type="number" step="any" placeholder="Masukkan lebar, mis. 8" aria-label="Lebar" />
          </div>
        </div>

        <div class="actions">
          <button id="hitung" class="btn-primary">Hitung</button>
          <button id="reset" class="btn-ghost">Reset</button>
          <button id="copy" class="btn-ghost">Salin Hasil</button>
        </div>

        <div style="margin-top:16px">
          <div class="small">Catatan: Masukkan nilai positif. Satuan default di atas adalah sentimeter (cm). Nilai desimal diperbolehkan.</div>
        </div>
      </div>

      <hr style="margin:16px 0;border:0;border-top:1px solid rgba(255,255,255,0.03)" />

      <div class="result">
        <div>
          <div class="small">Luas</div>
          <div id="luas" class="value">—</div>
        </div>
        <div>
          <div class="small">Keliling</div>
          <div id="keliling" class="value">—</div>
        </div>
        <div>
          <div class="small">Langkah perhitungan</div>
          <div id="steps" class="value" style="font-weight:500;font-size:14px">—</div>
        </div>
      </div>
    </section>

    <aside class="card preview" aria-live="polite">
      <div class="rect-wrap">
        <div class="canvas-rect" id="canvasRect">
          <div class="dim-label label-top" id="labelTop">Panjang: — cm</div>
          <div class="dim-label label-side" id="labelSide">Lebar: — cm</div>
        </div>
      </div>
    </aside>

    <footer>
      <div>Made with ❤️ — Hitung Persegi Panjang</div>
      <div class="small">Tekan Enter pada input untuk menghitung</div>
    </footer>
  </main>

  <script>
    const panjangEl = document.getElementById('panjang');
    const lebarEl = document.getElementById('lebar');
    const luasEl = document.getElementById('luas');
    const kelilingEl = document.getElementById('keliling');
    const stepsEl = document.getElementById('steps');
    const btnHitung = document.getElementById('hitung');
    const btnReset = document.getElementById('reset');
    const btnCopy = document.getElementById('copy');
    const labelTop = document.getElementById('labelTop');
    const labelSide = document.getElementById('labelSide');
    const canvasRect = document.getElementById('canvasRect');

    function formatNumber(n){
      if (Number.isInteger(n)) return n.toString();
      return parseFloat(n.toFixed(4)).toString();
    }

    function validate(a, b){
      const A = parseFloat(a); const B = parseFloat(b);
      if (isNaN(A) || isNaN(B)) return {ok:false,msg:'Masukkan kedua nilai.'};
      if (!isFinite(A) || !isFinite(B)) return {ok:false,msg:'Nilai tidak valid.'};
      if (A <= 0 || B <= 0) return {ok:false,msg:'Nilai harus lebih besar dari 0.'};
      return {ok:true,A,B};
    }

    function updatePreview(A,B){
      labelTop.textContent = `Panjang: ${formatNumber(A)} cm`;
      labelSide.textContent = `Lebar: ${formatNumber(B)} cm`;
      const ratio = Math.min(1.8, Math.max(0.3, A / B));
      const baseHeight = 180;
      const h = baseHeight;
      const w = Math.min(360, Math.max(80, baseHeight * ratio));
      canvasRect.style.width = w + 'px';
      canvasRect.style.height = h + 'px';
    }

    function hitung(){
      const a = panjangEl.value.trim();
      const b = lebarEl.value.trim();
      const v = validate(a,b);
      if (!v.ok){
        alert(v.msg);
        return;
      }
      const A = v.A; const B = v.B;
      const luas = A * B;
      const keliling = 2 * (A + B);

      luasEl.textContent = formatNumber(luas) + ' cm²';
      kelilingEl.textContent = formatNumber(keliling) + ' cm';

      stepsEl.innerHTML = `Luas = panjang × lebar = ${formatNumber(A)} × ${formatNumber(B)} = ${formatNumber(luas)} cm²<br>Keliling = 2 × (panjang + lebar) = 2 × (${formatNumber(A)} + ${formatNumber(B)}) = ${formatNumber(keliling)} cm`;

      updatePreview(A,B);
    }

    btnHitung.addEventListener('click', hitung);
    btnReset.addEventListener('click', ()=>{
      panjangEl.value = '';
      lebarEl.value = '';
      luasEl.textContent = '—';
      kelilingEl.textContent = '—';
      stepsEl.textContent = '—';
      labelTop.textContent = 'Panjang: — cm';
      labelSide.textContent = 'Lebar: — cm';
      canvasRect.style.width = '';
      canvasRect.style.height = '220px';
    });

    btnCopy.addEventListener('click', ()=>{
      const text = `Luas: ${luasEl.textContent}\nKeliling: ${kelilingEl.textContent}`;
      navigator.clipboard?.writeText(text).then(()=>{
        alert('Hasil disalin ke clipboard');
      }).catch(()=>{
        alert('Tidak dapat menyalin. Salin secara manual.');
      });
    });

    [panjangEl, lebarEl].forEach(el=>{
      el.addEventListener('keydown', (e)=>{
        if (e.key === 'Enter') hitung();
      });
    });
  </script>
</body>
</html>